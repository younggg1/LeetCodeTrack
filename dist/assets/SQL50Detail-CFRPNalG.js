import{r as u,c as T,g as q,o as L,h as M,a,b as s,i as r,t as l,j as f,n as w,F as p,e as k,u as N,f as t}from"./index-Cui6VMn9.js";import{P as d}from"./prism-java-09nTJMTM.js";import{u as Q}from"./questionBank-CFjvPJWp.js";const S={class:"detail-main"},U={key:0,class:"loading"},V={key:1,class:"error"},D={key:2},E={class:"title"},F={class:"section"},H={class:"description-block"},P={key:0},R={class:"section-label"},z={class:"solution"},I={key:0,class:"section"},$={class:"section-label"},G=["onClick"],J={key:0,class:"copy-success"},K=["innerHTML"],O={key:1,class:"section"},W=["href"],X={key:2,class:"section"},ae={__name:"SQL50Detail",setup(Y){const m=q(),b=N(),v=Q(),g=u(!0),_=u(""),A=u([]),y=u(-1),h=u(!1),e=T(()=>v.getQuestion("sql50",m.params.id));function C(o,i){return o?d.highlight(o,d.languages.java,"java"):""}function j(o){Array.isArray(e.value.code)&&e.value.code[o]&&navigator.clipboard.writeText(e.value.code[o]).then(()=>{h.value=!0,y.value=o,setTimeout(()=>{h.value=!1},1200)})}L(async()=>{v.loaded||await v.loadAll(),g.value=!1,e.value||(_.value="未找到该题目")}),M(()=>e.value&&e.value.code,o=>{Array.isArray(o)&&o.forEach((i,c)=>{A.value[c]=d.highlight(i,d.languages.java,"java")})},{immediate:!0});function B(){b.back()}return(o,i)=>(t(),a("div",S,[s("button",{class:"back-btn",onClick:B},"← 返回"),g.value?(t(),a("div",U,"加载中...")):_.value?(t(),a("div",V,l(_.value),1)):e.value?(t(),a("div",D,[s("h2",E,[f(" #"+l(e.value.id)+" "+l(e.value.title)+" ",1),s("span",{class:w(["difficulty",e.value.difficulty])},l(e.value.difficulty),3)]),s("div",F,[i[0]||(i[0]=s("div",{class:"section-label"},"题目描述：",-1)),s("div",H,l(e.value.description),1)]),Array.isArray(e.value.idea)&&e.value.idea.length?(t(),a("div",P,[(t(!0),a(p,null,k(e.value.idea,(c,n)=>(t(),a("div",{key:n,class:"section"},[s("div",R,"解题思路 "+l(e.value.idea.length>1?n+1:""),1),s("div",z,l(c),1),Array.isArray(e.value.code)&&e.value.code[n]?(t(),a("div",I,[s("div",$,[f(" 示例代码(Mysql) "+l(e.value.code.length>1?n+1:"")+"： ",1),s("button",{class:"copy-btn",onClick:Z=>j(n)},"复制",8,G),y.value===n&&h.value?(t(),a("span",J,"已复制！")):r("",!0)]),s("pre",{class:"code language-mysql",innerHTML:C(e.value.code[n])},null,8,K)])):r("",!0)]))),128))])):r("",!0),e.value.originalUrl?(t(),a("div",O,[i[1]||(i[1]=s("div",{class:"section-label"},"原题链接：",-1)),s("div",null,[s("a",{href:e.value.originalUrl,target:"_blank"},l(e.value.originalUrl),9,W)])])):r("",!0),e.value.tags&&e.value.tags.length?(t(),a("div",X,[i[2]||(i[2]=s("div",{class:"section-label"},"标签：",-1)),(t(!0),a(p,null,k(e.value.tags,c=>(t(),a("span",{class:"tag",key:c},l(c),1))),128))])):r("",!0)])):r("",!0)]))}};export{ae as default};
